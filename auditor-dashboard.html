<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditor Dashboard | Carbon Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="auditor-body">

    <nav class="navbar">
        <div class="nav-logo" style="color: #166534;">
            <i class="fa-solid fa-magnifying-glass-chart"></i> CarbonTracker
        </div>
        
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="auditor-dashboard.html" style="color: #166534; font-weight: bold;">Review Queue</a></li>
            <li><a href="auditor-logs.html">Verified Logs</a></li>
            <li><a href="dashboard.html">Global Trends</a></li>
        </ul>

        <div style="display: flex; align-items: center; gap: 15px;">
            <div id="auditorProfileDisplay" class="user-profile" style="background: #dcfce7; color: #166534; border: 1px solid #bbf7d0;">
                <i class="fa-solid fa-user-check"></i> Auditor Panel
            </div>
            <button id="logoutBtn" class="btn-logout-nav" style="background: #fee2e2; color: #ef4444; border: 1px solid #fca5a5; padding: 8px 16px; border-radius: 20px; font-weight: 600; cursor: pointer;">
                Logout
            </button>
        </div>
    </nav>

    <header class="auditor-header">
        <h1>Audit Review Queue</h1>
        <p>Review incoming sustainability reports, verify emission data, and assign grades to companies.</p>
    </header>

    <main class="auditor-container">
        <div class="auditor-wrapper">
            <table class="auditor-table">
                <thead>
                    <tr>
                        <th width="20%">Company Profile</th>
                        <th width="10%">History</th>
                        <th width="15%">Emissions Data</th>
                        <th width="15%">Assign Grade</th>
                        <th width="20%">Auditor Notes</th>
                        <th width="10%">Status</th>
                        <th width="10%">Action</th>
                    </tr>
                </thead>
                <tbody id="auditTableBody">
                    <tr><td colspan="7" style="text-align:center; padding: 40px; color:#64748b;">Loading pending reports...</td></tr>
                </tbody>
            </table>
        </div>
    </main>

    <div id="historyModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-btn">&times;</span>
            <div class="modal-header">
                <h2 id="modalTitle" style="color: #166534;">Company History</h2>
            </div>
            <div class="table-wrapper" style="box-shadow: none; padding: 0; margin: 0;">
                <table class="auditor-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Total Impact</th>
                            <th>Status</th>
                            <th>Grade</th>
                            <th>Auditor Notes</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>

    <footer class="site-footer" style="background: transparent; border-top: 1px solid #e2e8f0; margin-top: auto;">
        <div class="footer-bottom">
            &copy; 2026 CarbonTracker Network. Secure Audit Portal.
        </div>
    </footer>

    <script type="module" src="auditor-dashboard.js"></script>
</body>
</html>